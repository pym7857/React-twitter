{"version":3,"file":"static\\development\\pages\\_app.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/AppLayout.js","webpack:///./containers/LoginForm.js","webpack:///./containers/UserProfile.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/is-array.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/get-iterator.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/assign.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/create.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-prototype-of.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/set-prototype-of.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/promise.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/symbol.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/createClass.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/inherits.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/interopRequireDefault.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/typeof.js","webpack:///./node_modules/@babel/runtime-corejs2/regenerator/index.js","webpack:///./node_modules/next/app.js","webpack:///./node_modules/next/dist/client/link.js","webpack:///./node_modules/next/dist/pages/_app.js","webpack:///./node_modules/next/link.js","webpack:///./pages/_app.js","webpack:///./pages/signup.js","webpack:///./reducers/index.js","webpack:///./reducers/post.js","webpack:///./reducers/user.js","webpack:///./sagas/index.js","webpack:///./sagas/post.js","webpack:///./sagas/user.js","webpack:///external \"antd\"","webpack:///external \"axios\"","webpack:///external \"core-js/library/fn/array/is-array\"","webpack:///external \"core-js/library/fn/get-iterator\"","webpack:///external \"core-js/library/fn/json/stringify\"","webpack:///external \"core-js/library/fn/object/assign\"","webpack:///external \"core-js/library/fn/object/create\"","webpack:///external \"core-js/library/fn/object/define-property\"","webpack:///external \"core-js/library/fn/object/get-prototype-of\"","webpack:///external \"core-js/library/fn/object/set-prototype-of\"","webpack:///external \"core-js/library/fn/promise\"","webpack:///external \"core-js/library/fn/symbol\"","webpack:///external \"core-js/library/fn/symbol/iterator\"","webpack:///external \"immer\"","webpack:///external \"next-redux-saga\"","webpack:///external \"next-redux-wrapper\"","webpack:///external \"next-server/dist/lib/utils\"","webpack:///external \"next/head\"","webpack:///external \"next/router\"","webpack:///external \"prop-types\"","webpack:///external \"prop-types-exact\"","webpack:///external \"react\"","webpack:///external \"react-helmet\"","webpack:///external \"react-redux\"","webpack:///external \"redux\"","webpack:///external \"redux-saga\"","webpack:///external \"redux-saga/effects\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"url\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import React, { useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport PropTypes from 'prop-types';\r\nimport { Menu, Input, Button, Row, Col } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Router from 'next/router';\r\n\r\nimport LoginForm from '../containers/LoginForm';\r\nimport UserProfile from '../containers/UserProfile';\r\nimport { LOAD_USER_REQUEST } from '../reducers/user';\r\n\r\nconst AppLayout = ({ children }) => {\r\n\r\n  const { me } = useSelector(state => state.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const onSearch = (value) => {\r\n    /* 프론트에서의 동적 라우팅 */\r\n    Router.push({ pathname: '/hashtag', query: { tag: value } }, `hashtag/${value}`);   // 내부적으로는 pathname: '/hashtag', query: { tag: value } } 로 접근\r\n                                                                                        // 외부적으로는 `hashtag/${value}`로 보인다.\r\n  };\r\n\r\n  /* useEffect(() => {\r\n    if (!me) {  // 내 정보 없다면 \r\n      dispatch({\r\n        type: LOAD_USER_REQUEST,  // 내 정보 불러오기 ( 쿠키를 이용하여.. -> sagas/user.js의 loadUserAPI() 참조 )\r\n                                  // 로그인을 안한 상태면, 쿠키도 없을테니 LOAD_USER_REQUEST 불가 \r\n      });\r\n    }\r\n  }, []); */ \r\n\r\n  return (\r\n    <div>\r\n      <Menu mode=\"horizontal\">\r\n        <Menu.Item key=\"home\"><Link href=\"/\"><a>노드버드</a></Link></Menu.Item>\r\n        <Menu.Item key=\"profile\"><Link href=\"/profile\"><a>프로필</a></Link></Menu.Item>\r\n        <Menu.Item key=\"mail\">\r\n          <Input.Search \r\n            enterButton \r\n            style={{ verticalAlign: 'middle' }}\r\n            onSearch={onSearch}\r\n          />\r\n        </Menu.Item>\r\n      </Menu>\r\n      {!me && <Link href=\"/signup\"><a><Button>회원가입</Button></a></Link>}\r\n      <Row gutter={10}>   {/* gutter={10} : xs, sm 등으로 N등분한 화면의 간격을 넓혀주는 역할  */}\r\n        <Col xs={24} md={6}>\r\n          {me\r\n            ? <UserProfile />\r\n            :\r\n            <LoginForm />\r\n          }\r\n        </Col>\r\n        <Col xs={24} md={12}>\r\n          칠드런 {children}\r\n        </Col>\r\n        <Col xs={24} md={6}>\r\n\r\n        </Col>\r\n      </Row>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nAppLayout.propTypes = {\r\n  children: PropTypes.elementType,\r\n};\r\n\r\nexport default AppLayout;","import React, { useCallback } from 'react';\r\nimport { Input, Button, Form } from 'antd';\r\nimport Link from 'next/link';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { useInput } from '../pages/signup'; // 커스텀 훅 \r\nimport { LOG_IN_REQUEST } from '../reducers/user';\r\n\r\nconst LoginForm = () => {\r\n    const [id, onChangeId] = useInput('');\r\n    const [password, onChangePassword] = useInput('');\r\n    const { isLoggingIn } = useSelector(state => state.user);\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmitForm = useCallback((e) => { // props로 들어가는 함수는 무조건 useCallback\r\n        e.preventDefault();\r\n        return dispatch({\r\n          type: LOG_IN_REQUEST,\r\n          data: {\r\n            userId: id, \r\n            password,\r\n          },\r\n        });\r\n    }, [id, password]);\r\n    \r\n    return (\r\n        <Form onSubmit={onSubmitForm} style={{ padding: '10px' }}>\r\n              <div>\r\n                <label htmlFor=\"user-id\">아이디</label>\r\n                <br />\r\n                <Input name=\"user-id\" value={id} onChange={onChangeId} required />\r\n              </div>\r\n              <div>\r\n              <label htmlFor=\"user-password\">비밀번호</label>\r\n                <br />\r\n                <Input name=\"user-password\" type=\"password\" value={password} onChange={onChangePassword} required />\r\n              </div>\r\n              <div style={{ marginTop: '10px' }}>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={isLoggingIn}>로그인</Button>\r\n                <Link href=\"/signup\"><a><Button>회원가입</Button></a></Link>\r\n              </div>\r\n        </Form>\r\n    );\r\n};\r\n\r\nexport default LoginForm;","import React, { useCallback } from 'react';\r\nimport { Avatar, Card, Button } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Link from 'next/link';\r\n\r\nimport { LOG_OUT_REQUEST } from '../reducers/user';\r\n\r\nconst UserProfile = () => {\r\n    const { me } = useSelector(state => state.user);\r\n    const dispatch = useDispatch();\r\n\r\n    const onLogout = useCallback(() => {    // useCallback으로 감싸는 이유는 자식컴포넌트에 props로 전달하기 때문\r\n        dispatch({\r\n            type: LOG_OUT_REQUEST,\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <Card     \r\n            actions={[\r\n                <Link href=\"/profile\" key=\"twit\">\r\n                    <a>\r\n                        <div>짹짹<br />{}</div>\r\n                    </a>\r\n                </Link>,        \r\n                <Link href=\"/profile\" key=\"following\">\r\n                    <a>\r\n                  <div>팔로잉<br />{}</div>\r\n                    </a>\r\n                </Link>,\r\n                <Link href=\"/profile\" key=\"follower\">\r\n                    <a>\r\n                  <div>팔로워<br />{}</div>\r\n                    </a>\r\n                </Link>,\r\n            ]}\r\n        >\r\n            <Card.Meta\r\n            avatar={<Avatar>{me.nickname[0]}</Avatar>}\r\n            title={me.nickname}\r\n            />\r\n            <Button onClick={onLogout}>로그아웃</Button>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default UserProfile;","module.exports = require(\"core-js/library/fn/array/is-array\");","module.exports = require(\"core-js/library/fn/get-iterator\");","module.exports = require(\"core-js/library/fn/json/stringify\");","module.exports = require(\"core-js/library/fn/object/assign\");","module.exports = require(\"core-js/library/fn/object/create\");","module.exports = require(\"core-js/library/fn/object/define-property\");","module.exports = require(\"core-js/library/fn/object/get-prototype-of\");","module.exports = require(\"core-js/library/fn/object/set-prototype-of\");","module.exports = require(\"core-js/library/fn/promise\");","module.exports = require(\"core-js/library/fn/symbol\");","module.exports = require(\"core-js/library/fn/symbol/iterator\");","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var _Object$defineProperty = require(\"../core-js/object/define-property\");\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}","import _Promise from \"../../core-js/promise\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    _Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new _Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import _getIterator from \"../../core-js/get-iterator\";\nexport default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = _getIterator(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","var _Object$getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _Object$setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nfunction _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = _Object$setPrototypeOf ? _Object$getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || _Object$getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var _Object$create = require(\"../core-js/object/create\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var _Object$setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nfunction _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var _Symbol$iterator = require(\"../core-js/symbol/iterator\");\n\nvar _Symbol = require(\"../core-js/symbol\");\n\nfunction _typeof2(obj) { if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","module.exports = require('./dist/pages/_app')\n","\"use strict\";\n/* global __NEXT_DATA__ */\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/json/stringify\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar url_1 = require(\"url\");\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\n\nvar router_1 = __importStar(require(\"next/router\"));\n\nvar utils_1 = require(\"next-server/dist/lib/utils\");\n\nfunction isLocal(href) {\n  var url = url_1.parse(href, false, true);\n  var origin = url_1.parse(utils_1.getLocationOrigin(), false, true);\n  return !url.host || url.protocol === origin.protocol && url.host === origin.host;\n}\n\nfunction memoizedFormatUrl(formatFunc) {\n  var lastHref = null;\n  var lastAs = null;\n  var lastResult = null;\n  return function (href, as) {\n    if (href === lastHref && as === lastAs) {\n      return lastResult;\n    }\n\n    var result = formatFunc(href, as);\n    lastHref = href;\n    lastAs = as;\n    lastResult = result;\n    return result;\n  };\n}\n\nfunction formatUrl(url) {\n  return url && typeof url === 'object' ? utils_1.formatWithValidation(url) : url;\n}\n\nvar Link =\n/*#__PURE__*/\nfunction (_react_1$Component) {\n  (0, _inherits2.default)(Link, _react_1$Component);\n\n  function Link() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Link);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Link).apply(this, arguments)); // The function is memoized so that no extra lifecycles are needed\n    // as per https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\n\n    _this.formatUrls = memoizedFormatUrl(function (href, asHref) {\n      return {\n        href: formatUrl(href),\n        as: formatUrl(asHref, true)\n      };\n    });\n\n    _this.linkClicked = function (e) {\n      var _e$currentTarget = e.currentTarget,\n          nodeName = _e$currentTarget.nodeName,\n          target = _e$currentTarget.target;\n\n      if (nodeName === 'A' && (target && target !== '_self' || e.metaKey || e.ctrlKey || e.shiftKey || e.nativeEvent && e.nativeEvent.which === 2)) {\n        // ignore click for new tab / new window behavior\n        return;\n      }\n\n      var _this$formatUrls = _this.formatUrls(_this.props.href, _this.props.as),\n          href = _this$formatUrls.href,\n          as = _this$formatUrls.as;\n\n      if (!isLocal(href)) {\n        // ignore click if it's outside our scope\n        return;\n      }\n\n      var pathname = window.location.pathname;\n      href = url_1.resolve(pathname, href);\n      as = as ? url_1.resolve(pathname, as) : href;\n      e.preventDefault(); //  avoid scroll for urls with anchor refs\n\n      var scroll = _this.props.scroll;\n\n      if (scroll == null) {\n        scroll = as.indexOf('#') < 0;\n      } // replace state instead of push if prop is present\n\n\n      router_1.default[_this.props.replace ? 'replace' : 'push'](href, as, {\n        shallow: _this.props.shallow\n      }).then(function (success) {\n        if (!success) return;\n\n        if (scroll) {\n          window.scrollTo(0, 0);\n          document.body.focus();\n        }\n      }).catch(function (err) {\n        if (_this.props.onError) _this.props.onError(err);\n      });\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Link, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.prefetch();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if ((0, _stringify.default)(this.props.href) !== (0, _stringify.default)(prevProps.href)) {\n        this.prefetch();\n      }\n    }\n  }, {\n    key: \"prefetch\",\n    value: function prefetch() {\n      if (!this.props.prefetch) return;\n      if (typeof window === 'undefined') return; // Prefetch the JSON page if asked (only in the client)\n\n      var pathname = window.location.pathname;\n\n      var _this$formatUrls2 = this.formatUrls(this.props.href, this.props.as),\n          parsedHref = _this$formatUrls2.href;\n\n      var href = url_1.resolve(pathname, parsedHref);\n      router_1.default.prefetch(href);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var children = this.props.children;\n\n      var _this$formatUrls3 = this.formatUrls(this.props.href, this.props.as),\n          href = _this$formatUrls3.href,\n          as = _this$formatUrls3.as; // Deprecated. Warning shown by propType check. If the childen provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n\n\n      if (typeof children === 'string') {\n        children = react_1.default.createElement(\"a\", null, children);\n      } // This will return the first child, if multiple are provided it will throw an error\n\n\n      var child = react_1.Children.only(children);\n      var props = {\n        onClick: function onClick(e) {\n          if (child.props && typeof child.props.onClick === 'function') {\n            child.props.onClick(e);\n          }\n\n          if (!e.defaultPrevented) {\n            _this2.linkClicked(e);\n          }\n        }\n      }; // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n      // defined, we specify the current 'href', so that repetition is not needed by the user\n\n      if (this.props.passHref || child.type === 'a' && !('href' in child.props)) {\n        props.href = as || href;\n      } // Add the ending slash to the paths. So, we can serve the\n      // \"<page>/index.html\" directly.\n\n\n      if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n        if (props.href && typeof __NEXT_DATA__ !== 'undefined' && __NEXT_DATA__.nextExport) {\n          props.href = router_1.Router._rewriteUrlForNextExport(props.href);\n        }\n      }\n\n      return react_1.default.cloneElement(child, props);\n    }\n  }]);\n  return Link;\n}(react_1.Component);\n\nif (process.env.NODE_ENV === 'development') {\n  var warn = utils_1.execOnce(console.error); // This module gets removed by webpack.IgnorePlugin\n\n  var exact = require('prop-types-exact');\n\n  Link.propTypes = exact({\n    href: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.object]).isRequired,\n    as: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.object]),\n    prefetch: prop_types_1.default.bool,\n    replace: prop_types_1.default.bool,\n    shallow: prop_types_1.default.bool,\n    passHref: prop_types_1.default.bool,\n    scroll: prop_types_1.default.bool,\n    children: prop_types_1.default.oneOfType([prop_types_1.default.element, function (props, propName) {\n      var value = props[propName];\n\n      if (typeof value === 'string') {\n        warn(\"Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>\");\n      }\n\n      return null;\n    }]).isRequired\n  });\n}\n\nexports.default = Link;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/inherits\"));\n\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\n\nvar utils_1 = require(\"next-server/dist/lib/utils\");\n\nvar router_1 = require(\"next/router\");\n\nvar App =\n/*#__PURE__*/\nfunction (_react_1$Component) {\n  (0, _inherits2.default)(App, _react_1$Component);\n\n  function App() {\n    (0, _classCallCheck2.default)(this, App);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(App).apply(this, arguments));\n  }\n\n  (0, _createClass2.default)(App, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        router: router_1.makePublicRouterInstance(this.props.router)\n      };\n    } // Kept here for backwards compatibility.\n    // When someone ended App they could call `super.componentDidCatch`. This is now deprecated.\n\n  }, {\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(err) {\n      throw err;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          router = _this$props.router,\n          Component = _this$props.Component,\n          pageProps = _this$props.pageProps;\n      var url = createUrl(router);\n      return react_1.default.createElement(Container, null, react_1.default.createElement(Component, (0, _assign.default)({}, pageProps, {\n        url: url\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function (_ref) {\n      var Component = _ref.Component,\n          router = _ref.router,\n          ctx = _ref.ctx;\n\n      try {\n        return _promise.default.resolve(utils_1.loadGetInitialProps(Component, ctx)).then(function (pageProps) {\n          return {\n            pageProps: pageProps\n          };\n        });\n      } catch (e) {\n        return _promise.default.reject(e);\n      }\n    }\n  }]);\n  return App;\n}(react_1.Component);\n\nApp.childContextTypes = {\n  router: prop_types_1.default.object\n};\nexports.default = App;\n\nvar Container =\n/*#__PURE__*/\nfunction (_react_1$Component2) {\n  (0, _inherits2.default)(Container, _react_1$Component2);\n\n  function Container() {\n    (0, _classCallCheck2.default)(this, Container);\n    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Container).apply(this, arguments));\n  }\n\n  (0, _createClass2.default)(Container, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.scrollToHash();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.scrollToHash();\n    }\n  }, {\n    key: \"scrollToHash\",\n    value: function scrollToHash() {\n      var hash = window.location.hash;\n      hash = hash ? hash.substring(1) : false;\n      if (!hash) return;\n      var el = document.getElementById(hash);\n      if (!el) return; // If we call scrollIntoView() in here without a setTimeout\n      // it won't scroll properly.\n\n      setTimeout(function () {\n        return el.scrollIntoView();\n      }, 0);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n  return Container;\n}(react_1.Component);\n\nexports.Container = Container;\nvar warnUrl = utils_1.execOnce(function () {\n  if (process.env.NODE_ENV !== 'production') {\n    console.error(\"Warning: the 'url' property is deprecated. https://err.sh/zeit/next.js/url-deprecated\");\n  }\n});\n\nfunction createUrl(router) {\n  // This is to make sure we don't references the router object at call time\n  var pathname = router.pathname,\n      asPath = router.asPath,\n      query = router.query;\n  return {\n    get query() {\n      warnUrl();\n      return query;\n    },\n\n    get pathname() {\n      warnUrl();\n      return pathname;\n    },\n\n    get asPath() {\n      warnUrl();\n      return asPath;\n    },\n\n    back: function back() {\n      warnUrl();\n      router.back();\n    },\n    push: function push(url, as) {\n      warnUrl();\n      return router.push(url, as);\n    },\n    pushTo: function pushTo(href, as) {\n      warnUrl();\n      var pushRoute = as ? href : null;\n      var pushUrl = as || href;\n      return router.push(pushRoute, pushUrl);\n    },\n    replace: function replace(url, as) {\n      warnUrl();\n      return router.replace(url, as);\n    },\n    replaceTo: function replaceTo(href, as) {\n      warnUrl();\n      var replaceRoute = as ? href : null;\n      var replaceUrl = as || href;\n      return router.replace(replaceRoute, replaceUrl);\n    }\n  };\n}\n\nexports.createUrl = createUrl;","module.exports = require('./dist/client/link')\n","import React from 'react';\r\nimport Head from 'next/head';\r\nimport PropTypes from 'prop-types';\r\nimport withRedux from 'next-redux-wrapper';\r\nimport withReduxSaga from 'next-redux-saga';\r\nimport { createStore, compose, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport axios from 'axios';\r\nimport Helmet from 'react-helmet';\r\nimport App, { Container } from 'next/app';\r\n\r\nimport AppLayout from '../components/AppLayout';\r\nimport rootSaga from '../sagas';\r\nimport reducer from '../reducers';  // ../reducers/index.js와 동일 (index.js는 생략 가능)\r\nimport { LOAD_USER_REQUEST } from '../reducers/user';\r\n                                    // rootReducer인데 reducer이름으로 가져옴 (가져오는 이름은 이처럼 맘대로 가능)\r\n\r\nconst NodeBird = ({ Component, store, pageProps }) => {\r\n    return (\r\n        <Container>\r\n            <Provider store={store}>\r\n                <Helmet\r\n                    title=\"NodeBird\"\r\n                    htmlAttributes={{ lang: 'ko' }}\r\n                    meta={[{\r\n                        charset: 'UTF-8',\r\n                    }, {\r\n                        name: 'viewport',\r\n                        content: 'width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=yes,viewport-fit=cover',\r\n                    }, {\r\n                        'http-equiv': 'X-UA-Compatible', content: 'IE=edge',\r\n                    }, {\r\n                        name: 'description', content: 'NodeBird SNS',\r\n                    }, {\r\n                        name: 'og:title', content: 'NodeBird',\r\n                    }, {\r\n                        name: 'og:description', content: 'NodeBird SNS',\r\n                    }, {\r\n                        property: 'og:type', content: 'website',\r\n                    }]}\r\n                    link={[{\r\n                        rel: 'shortcut icon', href: '/linux.ico',\r\n                    }, {\r\n                        rel: 'stylesheet', href: 'https://cdnjs.cloudflare.com/ajax/libs/antd/3.16.2/antd.css',\r\n                    }, {\r\n                        rel: 'stylesheet', href: 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css',\r\n                    }, {\r\n                        rel: 'stylesheet', href: 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css',\r\n                    }]}\r\n                />\r\n                <AppLayout>\r\n                    <Component {...pageProps}/>\r\n                </AppLayout>\r\n            </Provider>\r\n        </Container>\r\n        \r\n    );\r\n};\r\n\r\nNodeBird.propTypes = {\r\n    Component: PropTypes.elementType.isRequired, // isRequired 넣으면 실수로 props안넣었을 때 경고를 해줌\r\n    store: PropTypes.object.isRequired,\r\n    pageProps: PropTypes.object.isRequired,\r\n};\r\n\r\n/* NodeBird.getInitialProps = async (context) => {\r\n    //console.log(context);\r\n    const { ctx } = context;\r\n    let pageProps = {};\r\n    if (context.Component.getInitialProps) {\r\n        pageProps = await context.Component.getInitialProps(ctx);\r\n    } \r\n    return { pageProps };\r\n}; */\r\n\r\nNodeBird.getInitialProps = async (context) => {\r\n    //console.log(context);\r\n    const { ctx, Component } = context;\r\n    let pageProps = {};\r\n\r\n    /* SSR일때는, 우리가 직접 cookie 넣어줘야 한다. */\r\n    const cookie = ctx.isServer ? ctx.req.headers.cookie : '';    // 서버환경일때, ctx.req.headers안에 cookie 가 들어있다.\r\n    /* 서버 환경이고, cookie가 존재할때만 아래 작업 실행 */\r\n    if (ctx.isServer && cookie) {\r\n        axios.defaults.headers.Cookie = cookie;     // axios에 cookie 데이터를 기본으로 심어준다. (SSR일때는 브라우저(=클라이언트)가 없기 때문에, 프론트'서버'-> 백 으로 쿠키 보내는 방법)\r\n                                                    // axios.defaults 해주면 모든 axios에 적용이 된다. \r\n    }\r\n    /* 내 정보 먼저 가져온 후에, */\r\n    const state = ctx.store.getState();\r\n    if (!state.user.me) {\r\n        ctx.store.dispatch({\r\n            type: LOAD_USER_REQUEST,\r\n        });\r\n    }\r\n\r\n    /* 다른 컴포넌트들을 호출한다. */\r\n    if (Component.getInitialProps) {                        // Component각각에 getInitialProps가 있으면 실행을 해주겠다는 뜻 \r\n        pageProps = await Component.getInitialProps(ctx) || {};   // _app.js의 (context.ctx)를 각 컴포넌트에서는 (context)로 받는다. \r\n    } \r\n    \r\n    return { pageProps };\r\n};\r\n\r\n/* 위 const NodeBird에 store를 인자로 넣어주는 부분 -> 이 부분은 그냥 암기 ! */\r\nconst configureStore = (initialState, options) => {   // initialState는 매개변수로서, redux에서 넣어줍니다.\r\n    const sagaMiddleware = createSagaMiddleware(); // redux-saga에서 미리 만들어놨기 때문에 그냥 갖다쓰면된다.\r\n    \r\n    /* 리덕스에 없는 기능 추가시키고 싶을때 middleware사용  ex)Redux Dev Tools */\r\n    const middlewares = [sagaMiddleware]; \r\n    /* enhancer : middleware들을 적용(apply)해서, 리덕스의 기능을 향상시키는것 */\r\n    const enhancer = process.env.NODE_ENV === 'production'\r\n        ? compose(applyMiddleware(...middlewares)) // 실제 배포시에는 REDUX_DEVTOOLS 있으면 X\r\n        : compose(   /* compose : 미들웨어 적용할때, 미들웨어끼리 합성시켜줌 */\r\n        applyMiddleware(...middlewares),\r\n        !options.isServer && window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined' ? window.__REDUX_DEVTOOLS_EXTENSION__() : (f) => f,\r\n    );                  \r\n    /* store = reducer + state */                               \r\n    const store = createStore(reducer, initialState, enhancer);   \r\n    //sagaMiddleware.run(rootSaga);   // rootSaga를 sagaMiddleware에 연결 \r\n    store.sagaTask = sagaMiddleware.run(rootSaga);   // [SSR]store.sagaTask를 withReduxSaga가 필요로 함. \r\n    return store;\r\n};\r\n\r\nexport default withRedux(configureStore)(withReduxSaga(NodeBird));","import React, { useState, useCallback, useEffect } from 'react';\r\nimport { Form, Input, Checkbox, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Router from 'next/router';\r\n\r\nimport { SIGN_UP_REQUEST } from '../reducers/user';\r\n\r\n// 중복되는 로직의 이벤트 처리 -> 커스텀 훅\r\n// export해놓으면 다른곳에서 모듈처럼 사용가능 !\r\nexport const useInput = (initValue = null) => {     \r\n    const [value, setter] = useState(initValue);\r\n    const handler = useCallback((e) =>{\r\n        setter(e.target.value);\r\n    }, []);\r\n    return [value, handler];\r\n};\r\n\r\nconst Signup = () => {\r\n    const [passwordCheck, setPasswordCheck] = useState('');\r\n    const [term, setTerm] = useState(false);\r\n    const [passwordError, setPasswordError] = useState(false);\r\n    const [termError, setTermError] = useState(false);\r\n    \r\n\r\n    const [id, onChangeId] = useInput('');\r\n    const [nick, onChangeNick] = useInput('');\r\n    const [password, onChangePassword] = useInput('');\r\n\r\n    const dispatch = useDispatch();\r\n    const { isSigningUp, me } = useSelector(state => state.user);\r\n\r\n    // 회원가입 창에서 로그인 해버리는 경우, 메인페이지로 redirect\r\n    useEffect(() => {\r\n        if (me) {\r\n            alert('로그인 되었습니다. 메인페이지로 이동합니다.')\r\n            Router.push('/');\r\n        }\r\n    }, [me && me.id]);\r\n\r\n    const onSubmit = useCallback((e) =>{\r\n        e.preventDefault();\r\n        if (password !== passwordCheck) {\r\n            return setPasswordError(true);\r\n        }\r\n        if (!term) {\r\n            return setTermError(true);\r\n        }\r\n        return dispatch({   // front/sagas/user.js의 sighUp함수의 매개변수인 aciton에 data객체가 담긴다.\r\n            type: SIGN_UP_REQUEST,\r\n            data: {\r\n                userId: id,\r\n                password,\r\n                nickname: nick,\r\n            },\r\n        });\r\n    }, [id, nick, password, passwordCheck, term]);\r\n\r\n    const onChangePasswordCheck = useCallback((e) => {\r\n        setPasswordError(e.target.value !== password); // 비밀번호 확인 칠때마다, 비밀번호와 같은지 확인\r\n        setPasswordCheck(e.target.value);\r\n    }, [password]);\r\n\r\n    const onChangeTerm = useCallback((e) => {\r\n        setTermError(false);\r\n        setTerm(e.target.checked);\r\n    }, []);\r\n\r\n    if (me) {\r\n        return null;    // 내가 로그인한 상태면, 회원가입 화면을 아예 안보여준다. \r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form onSubmit={onSubmit} style={{ padding: 50 }}>\r\n                <div>\r\n                    <label htmlFor=\"user-id\">아이디</label>\r\n                    <br />\r\n                    <Input name=\"user-id\" value={id} required onChange={onChangeId} />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"user-nick\">닉네임</label>\r\n                    <br />\r\n                    <Input name=\"user-nick\" value={nick} required onChange={onChangeNick} />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"user-password\">비밀번호</label>\r\n                    <br />\r\n                    <Input name=\"user-password\" type=\"password\" value={password} required onChange={onChangePassword} />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"user-password-check\">비밀번호 확인</label>\r\n                    <br />\r\n                    <Input name=\"user-password-check\" type=\"password\" value={passwordCheck} required onChange={onChangePasswordCheck} />\r\n                    {passwordError && <div style={{ color: 'red' }}>비밀번호가 일치하지 않습니다.</div>}\r\n                </div>\r\n                <div>\r\n                    <Checkbox name=\"user-term\" checked={term} onChange={onChangeTerm}>\r\n                        OOO 약관에 동의합니다.\r\n                    </Checkbox>\r\n                    {termError && <div style={{ color: 'red' }}>약관에 동의하셔야 합니다.</div>}\r\n                </div>\r\n                <div style={{ maringTop: 10 }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={isSigningUp}>가입하기</Button>\r\n                </div>\r\n            </Form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Signup;","import { combineReducers } from 'redux';\r\nimport user from './user';\r\nimport post from './post';\r\n\r\nconst rootReducer = combineReducers({\r\n    user,\r\n    post,\r\n});\r\n\r\nexport default rootReducer;","import produce from 'immer';\r\n\r\n/* redux state */\r\nexport const initialState = {\r\n    mainPosts: [],\r\n    imagePaths: [],             // 미리보기 이미지 경로 \r\n    \r\n    isAddingPost: false,        // 포스트 업로드 중\r\n    addPostErrorReason: '',     // 포스트 업로드 실패 사유 \r\n    postAdded: false,           // 포스트 업로드 성공 여부 (쓰는 이유: 글 작성후, 이게 true가 되면 TextArea 비워주기 위해서)\r\n    \r\n    isAddingComment: false,     // 댓글 업로드 중 \r\n    addCommentErrorReason: '',  // 댓글 업로드 에러 사유 \r\n    commentAdded: false,        // 댓글이 추가되었는지 (쓰는 이유: 댓글 작성후, 이게 true가 되면 TextArea 비워주기 위해서)\r\n    \r\n    addLikeErrorReason: '',\r\n\r\n    hasMorePost: false,         // 스크롤을 더 내려야 할지 \r\n    singlePost: null,\r\n};\r\n\r\n/* Action의 이름 */\r\nexport const LOAD_MAIN_POSTS_REQUEST = 'LOAD_MAIN_POSTS_REQUEST';       // 메인 포스트 로딩 액션\r\nexport const LOAD_MAIN_POSTS_SUCCESS = 'LOAD_MAIN_POSTS_SUCCESS';\r\nexport const LOAD_MAIN_POSTS_FAILURE = 'LOAD_MAIN_POSTS_FAILURE';\r\n\r\nexport const LOAD_HASHTAG_POSTS_REQUEST = 'LOAD_HASHTAG_POSTS_REQUEST'; // 해시태그로 검색했을 때 결과 로딩 액션\r\nexport const LOAD_HASHTAG_POSTS_SUCCESS = 'LOAD_HASHTAG_POSTS_SUCCESS';\r\nexport const LOAD_HASHTAG_POSTS_FAILURE = 'LOAD_HASHTAG_POSTS_FAILURE';\r\n\r\nexport const LOAD_USER_POSTS_REQUEST = 'LOAD_USER_POSTS_REQUEST';       // 사용자가 어떤 게시글을 썼는지 로딩 액션\r\nexport const LOAD_USER_POSTS_SUCCESS = 'LOAD_USER_POSTS_SUCCESS';\r\nexport const LOAD_USER_POSTS_FAILURE = 'LOAD_USER_POSTS_FAILURE';\r\n\r\nexport const UPLOAD_IMAGES_REQUEST = 'UPLOAD_IMAGES_REQUEST';           // 이미지 업로드 액션 \r\nexport const UPLOAD_IMAGES_SUCCESS = 'UPLOAD_IMAGES_SUCCESS';\r\nexport const UPLOAD_IMAGES_FAILURE = 'UPLOAD_IMAGES_FAILURE';\r\n\r\nexport const ADD_POST_REQUEST = 'ADD_POST_REQUEST';                     // 게시글 업로드 액션\r\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\r\nexport const ADD_POST_FAILURE = 'ADD_POST_FAILURE';\r\n\r\nexport const LIKE_POST_REQUEST = 'LIKE_POST_REQUEST';                   // 게시글 좋아요 \r\nexport const LIKE_POST_SUCCESS = 'LIKE_POST_SUCCESS';\r\nexport const LIKE_POST_FAILURE = 'LIKE_POST_FAILURE';\r\n\r\nexport const UNLIKE_POST_REQUEST = 'UNLIKE_POST_REQUEST';               // 게시글 좋아요 취소 \r\nexport const UNLIKE_POST_SUCCESS = 'UNLIKE_POST_SUCCESS';\r\nexport const UNLIKE_POST_FAILURE = 'UNLIKE_POST_FAILURE';\r\n\r\nexport const ADD_COMMENT_REQUEST = 'ADD_COMMENT_REQUEST';\r\nexport const ADD_COMMENT_SUCCESS = 'ADD_COMMENT_SUCCESS';\r\nexport const ADD_COMMENT_FAILURE = 'ADD_COMMENT_FAILURE';\r\n\r\nexport const LOAD_COMMENTS_REQUEST = 'LOAD_COMMENTS_REQUEST';           // 게시글 댓글 불러오기 \r\nexport const LOAD_COMMENTS_SUCCESS = 'LOAD_COMMENTS_SUCCESS';\r\nexport const LOAD_COMMENTS_FAILURE = 'LOAD_COMMENTS_FAILURE';\r\n\r\nexport const RETWEET_REQUEST = 'RETWEET_REQUEST';                       // 리트윗\r\nexport const RETWEET_SUCCESS = 'RETWEET_SUCCESS';\r\nexport const RETWEET_FAILURE = 'RETWEET_FAILURE';\r\n\r\nexport const REMOVE_POST_REQUEST = 'REMOVE_POST_REQUEST';               // 포스트 제거 \r\nexport const REMOVE_POST_SUCCESS = 'REMOVE_POST_SUCCESS';\r\nexport const REMOVE_POST_FAILURE = 'REMOVE_POST_FAILURE';\r\n\r\nexport const REMOVE_IMAGE = 'REMOVE_IMAGE';\r\n\r\nexport const LOAD_POST_REQUEST = 'LOAD_POST_REQUEST';           // 게시글 한개 불러오기 \r\nexport const LOAD_POST_SUCCESS = 'LOAD_POST_SUCCESS';\r\nexport const LOAD_POST_FAILURE = 'LOAD_POST_FAILURE';\r\n\r\n/* 실제 Action */\r\n// ...\r\n\r\n/* Reducer */\r\nconst reducer = (state = initialState, action) => {\r\n    /* immer */\r\n    return produce(state, (draft) => {      // immer에게 불변성을 맡기고, 우리는 draft만 자유롭게 변경해주면 된다.\r\n      switch (action.type) {\r\n        case UPLOAD_IMAGES_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case UPLOAD_IMAGES_SUCCESS: {\r\n            action.data.forEach((p) => {    // 이처럼, 더이상 불변성을 유지하지 않아도 된다. (immer에서 draft보고 알아서 불변성 감지해준다.)\r\n              draft.imagePaths.push(p);\r\n            }); \r\n            break; \r\n            /* return {\r\n              ...state,\r\n              imagePaths: [...state.imagePaths, ...action.data],    // 기존 imagePaths배열에 action.data 추가 \r\n            }; */\r\n        }\r\n        case UPLOAD_IMAGES_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case REMOVE_IMAGE: {\r\n            const index = draft.imagePaths.findIndex((v, i) => i === action.index);\r\n            draft.imagePaths.splice(index, 1);\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                imagePaths: state.imagePaths.filter((v, i) => i !== action.index),\r\n            }; */\r\n        }\r\n        case LOAD_MAIN_POSTS_REQUEST: \r\n        case LOAD_HASHTAG_POSTS_REQUEST:\r\n        case LOAD_USER_POSTS_REQUEST: {\r\n            draft.mainPosts = !action.lastId ? [] : draft.mainPosts;      // lastId가 없으면, mainPosts = []\r\n            draft.hasMorePost = action.lastId ? draft.hasMorePost : true;\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              mainPosts: action.lastId === 0 ? [] : state.mainPosts,  // lastId가 0 이면(=처음 화면이면): REQUEST시, mainPosts = []  -> 다른데 갔다가 다시 메인화면 올 수 도 있기 때문  \r\n                                                                      // lastId가 0 이 아니라면(=더보기 클릭시): REQUEST시, 기존 mainPosts가져오기 \r\n              hasMorePost: action.lastId ? state.hasMorePost : true,  // 맨 첫 페이지에 게시글 로딩할때, hasMorePost가 true가 되야함. (pages/index.js hasMorePost분기 부분 참조)\r\n            }; */\r\n        }\r\n        case LOAD_MAIN_POSTS_SUCCESS: \r\n        case LOAD_HASHTAG_POSTS_SUCCESS:\r\n        case LOAD_USER_POSTS_SUCCESS: {\r\n            action.data.forEach((p) => {\r\n              draft.mainPosts.push(p);\r\n            });\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              mainPosts: state.mainPosts.concat(action.data),   // 덮어쓰는게 아니라, 이전 게시글에 추가하기\r\n              hasMorePost: action.data.length === 10,           // reducers/user.js에서 hasMoreFollower했던거랑 동일한 원리 !!\r\n            }; */\r\n        }\r\n        case LOAD_MAIN_POSTS_FAILURE: \r\n        case LOAD_HASHTAG_POSTS_FAILURE:\r\n        case LOAD_USER_POSTS_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case ADD_POST_REQUEST: {\r\n            draft.isAddingPost = true;\r\n            draft.addPostErrorReason = '';\r\n            draft.postAdded = false;\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isAddingPost: true,\r\n                addPostErrorReason: '',\r\n                postAdded: false,\r\n            }; */\r\n        }\r\n        case ADD_POST_SUCCESS: {\r\n            draft.isAddingPost = false;\r\n            draft.mainPosts.unshift(action.data);   // 배열 맨 앞에 추가할때는 unshift()\r\n            draft.postAdded = true;\r\n            draft.imagePaths = [];\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isAddingPost: false,\r\n                mainPosts: [action.data, ...state.mainPosts], // 포스트들 앞에 들어가게 된다.\r\n                postAdded: true,\r\n                imagePaths: [],                               // success하는 순간, imagePaths 비워주기 \r\n            }; */\r\n        }\r\n        case ADD_POST_FAILURE: {\r\n            draft.isAddingPost = false;\r\n            draft.addPostErrorReason = action.error;\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isAddingPost: false,\r\n                addPostErrorReason: action.error,\r\n            }; */\r\n        }\r\n        case ADD_COMMENT_REQUEST: {\r\n            draft.isAddingComment = true;\r\n            draft.addCommentErrorReason = '';\r\n            draft.commentAdded = false;\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isAddingComment: true,\r\n                addCommentErrorReason: '',\r\n                commentAdded: false,\r\n            }; */\r\n            \r\n        }\r\n        case ADD_COMMENT_SUCCESS: {\r\n            const postIndex = draft.mainPosts.findIndex(v => v.id === action.data.postId);\r\n            draft.mainPosts[postIndex].Comments.push(action.data.comment);\r\n            draft.isAddingComment = false;\r\n            draft.commentAdded = true;\r\n            break;\r\n            /* const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId); // 먼저, 여러개의 게시글 중에 해당 게시글의 index를 도출한 후,\r\n            const post = state.mainPosts[postIndex];                  // 해당 게시글을 찾는다\r\n            const Comments = [...post.Comments, action.data.comment]; // 불변성을 확보하면서, 뒤에다가 새 댓글 달아준다 \r\n            const mainPosts = [...state.mainPosts];                   // mainPosts도 불변성을 확보해 줘야한다.\r\n            mainPosts[postIndex] = { ...post, Comments };\r\n            return {\r\n                ...state,\r\n                isAddingComment: false,\r\n                mainPosts, // 여러 게시글 중에 해당하는 게시글에 해당 댓글 달아주기 (불변성 때문에 복잡한 작업)\r\n                commentAdded: true,\r\n            }; */\r\n        }\r\n        case ADD_COMMENT_FAILURE: {\r\n            draft.isAddingComment = false;\r\n            draft.addCommentErrorReason = action.error;\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isAddingComment: false,\r\n                addCommentErrorReason: action.error,\r\n            }; */\r\n        }\r\n        case LOAD_COMMENTS_SUCCESS: {\r\n            const postIndex = draft.mainPosts.findIndex(v => v.id === action.data.postId);\r\n            draft.mainPosts[postIndex].Comments = action.data.comments;\r\n            break;\r\n            /* const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId);\r\n            const post = state.mainPosts[postIndex];\r\n            const Comments = action.data.comments;\r\n            const mainPosts = [...state.mainPosts];         // mainPosts도 불변성을 확보해 줘야한다.\r\n            mainPosts[postIndex] = { ...post, Comments };\r\n            return {\r\n              ...state,\r\n              mainPosts,\r\n            }; */\r\n        }\r\n        case LIKE_POST_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case LIKE_POST_SUCCESS: {\r\n            const postIndex = draft.mainPosts.findIndex(v => v.id === action.data.postId);\r\n            draft.mainPosts[postIndex].Likers.unshift({ id: action.data.userId });            // 배열 맨 앞에 추가할때는 unshift()\r\n            break;\r\n            /* const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId);\r\n            const post = state.mainPosts[postIndex];\r\n            const Likers = [{ id: action.data.userId }, ...post.Likers];    // 좋아요 누른 사람들 목록에, 본인 추가 \r\n            const mainPosts = [...state.mainPosts];\r\n            mainPosts[postIndex] = { ...post, Likers };\r\n            return {\r\n              ...state,\r\n              mainPosts,\r\n            }; */\r\n        }\r\n        case LIKE_POST_FAILURE: {\r\n            alert('좋아요 실패!');\r\n            draft.addLikeErrorReason = action.error;\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              addLikeErrorReason: action.error,\r\n            }; */\r\n        }\r\n        case UNLIKE_POST_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case UNLIKE_POST_SUCCESS: {\r\n            const postIndex = draft.mainPosts.findIndex(v => v.id === action.data.postId);\r\n            const likerIndex = draft.mainPosts[postIndex].Likers.findIndex(v => v.id === action.data.userId);\r\n            draft.mainPosts[postIndex].Likers.splice(likerIndex, 1);\r\n            break;\r\n            /* const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId);\r\n            const post = state.mainPosts[postIndex];\r\n            const Likers = post.Likers.filter(v => v.id !== action.data.userId);  // 좋아요 누른 사람들 목록에, 본인 제외  \r\n            const mainPosts = [...state.mainPosts];\r\n            mainPosts[postIndex] = { ...post, Likers };\r\n            return {\r\n              ...state,\r\n              mainPosts,\r\n            }; */\r\n        }\r\n        case UNLIKE_POST_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case RETWEET_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case RETWEET_SUCCESS: {\r\n            draft.mainPosts.unshift(action.data);\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              mainPosts: [action.data, ...state.mainPosts],     // 기존 게시글의 제일 앞에 추가해준다. \r\n            }; */\r\n        }\r\n        case RETWEET_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case REMOVE_POST_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case REMOVE_POST_SUCCESS: {\r\n            const index = draft.mainPosts.findIndex(v => v.id === action.data);\r\n            draft.mainPosts.splice(index, 1);\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              mainPosts: state.mainPosts.filter(v => v.id !== action.data),\r\n            }; */\r\n        }\r\n        case REMOVE_POST_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case LOAD_POST_SUCCESS: {\r\n          draft.singlePost = action.data;\r\n          break;\r\n        }\r\n        default: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n      }\r\n    });\r\n};\r\nexport default reducer;\r\n\r\n\r\n\r\n/* immer쓰기 전 코드 */\r\n/* switch (action.type) {\r\n  case UPLOAD_IMAGES_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case UPLOAD_IMAGES_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        imagePaths: [...state.imagePaths, ...action.data],    // 기존 imagePaths배열에 action.data 추가 \r\n      };\r\n  }\r\n  case UPLOAD_IMAGES_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case REMOVE_IMAGE: {\r\n      return {\r\n          ...state,\r\n          imagePaths: state.imagePaths.filter((v, i) => i !== action.index),\r\n      };\r\n  }\r\n  case LOAD_MAIN_POSTS_REQUEST: \r\n  case LOAD_HASHTAG_POSTS_REQUEST:\r\n  case LOAD_USER_POSTS_REQUEST: {\r\n      return {\r\n        ...state,\r\n        mainPosts: action.lastId === 0 ? [] : state.mainPosts,  // lastId가 0 이면(=처음 화면이면): REQUEST시, mainPosts = []  -> 다른데 갔다가 다시 메인화면 올 수 도 있기 때문  \r\n                                                                // lastId가 0 이 아니라면(=더보기 클릭시): REQUEST시, 기존 mainPosts가져오기 \r\n        hasMorePost: action.lastId ? state.hasMorePost : true,  // 맨 첫 페이지에 게시글 로딩할때, hasMorePost가 true가 되야함. (pages/index.js hasMorePost분기 부분 참조)\r\n      };\r\n  }\r\n  case LOAD_MAIN_POSTS_SUCCESS: \r\n  case LOAD_HASHTAG_POSTS_SUCCESS:\r\n  case LOAD_USER_POSTS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        mainPosts: state.mainPosts.concat(action.data),   // 덮어쓰는게 아니라, 이전 게시글에 추가하기\r\n        hasMorePost: action.data.length === 10,           // reducers/user.js에서 hasMoreFollower했던거랑 동일한 원리 !!\r\n      };\r\n  }\r\n  case LOAD_MAIN_POSTS_FAILURE: \r\n  case LOAD_HASHTAG_POSTS_FAILURE:\r\n  case LOAD_USER_POSTS_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case ADD_POST_REQUEST: {\r\n      return {\r\n          ...state,\r\n          isAddingPost: true,\r\n          addPostErrorReason: '',\r\n          postAdded: false,\r\n      };\r\n  }\r\n  case ADD_POST_SUCCESS: {\r\n      return {\r\n          ...state,\r\n          isAddingPost: false,\r\n          mainPosts: [action.data, ...state.mainPosts], // 포스트들 앞에 들어가게 된다.\r\n          postAdded: true,\r\n          imagePaths: [],                               // success하는 순간, imagePaths 비워주기 \r\n      };\r\n  }\r\n  case ADD_POST_FAILURE: {\r\n      return {\r\n          ...state,\r\n          isAddingPost: false,\r\n          addPostErrorReason: action.error,\r\n      };\r\n  }\r\n  case ADD_COMMENT_REQUEST: {\r\n      return {\r\n          ...state,\r\n          isAddingComment: true,\r\n          addCommentErrorReason: '',\r\n          commentAdded: false,\r\n      };\r\n  }\r\n  case ADD_COMMENT_SUCCESS: {\r\n      // 항상 불변성을 조심해야 된다. \r\n      // 바뀔 객체만 새로 만들어 줘야된다. \r\n      const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId); // 먼저, 여러개의 게시글 중에 해당 게시글의 index를 도출한 후,\r\n      const post = state.mainPosts[postIndex]; // 해당 게시글을 찾는다\r\n      const Comments = [...post.Comments, action.data.comment]; // 불변성을 확보하면서, 뒤에다가 새 댓글 달아준다 \r\n      const mainPosts = [...state.mainPosts]; // mainPosts도 불변성을 확보해 줘야한다.\r\n      mainPosts[postIndex] = { ...post, Comments };\r\n\r\n      return {\r\n          ...state,\r\n          isAddingComment: false,\r\n          mainPosts, // 여러 게시글 중에 해당하는 게시글에 해당 댓글 달아주기 (불변성 때문에 복잡한 작업)\r\n          commentAdded: true,\r\n      };\r\n  }\r\n  case ADD_COMMENT_FAILURE: {\r\n      return {\r\n          ...state,\r\n          isAddingComment: false,\r\n          addCommentErrorReason: action.error,\r\n      };\r\n  }\r\n  case LOAD_COMMENTS_SUCCESS: {\r\n      // 항상 불변성을 조심해야 된다. \r\n      // 바뀔 객체만 새로 만들어 줘야된다. \r\n      const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId);\r\n      const post = state.mainPosts[postIndex];\r\n      const Comments = action.data.comments;\r\n      const mainPosts = [...state.mainPosts];\r\n      mainPosts[postIndex] = { ...post, Comments };\r\n\r\n      return {\r\n        ...state,\r\n        mainPosts,\r\n      };\r\n  }\r\n  case LIKE_POST_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case LIKE_POST_SUCCESS: {\r\n      // 항상 불변성을 조심해야 된다. \r\n      // 바뀔 객체만 새로 만들어 줘야된다. \r\n      const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId);\r\n      const post = state.mainPosts[postIndex];\r\n      const Likers = [{ id: action.data.userId }, ...post.Likers];    // 좋아요 누른 사람들 목록에, 본인 추가 \r\n      const mainPosts = [...state.mainPosts];\r\n      mainPosts[postIndex] = { ...post, Likers };\r\n\r\n      return {\r\n        ...state,\r\n        mainPosts,\r\n      };\r\n  }\r\n  case LIKE_POST_FAILURE: {\r\n      alert('좋아요 실패!');\r\n      return {\r\n        ...state,\r\n        addLikeErrorReason: action.error,\r\n      };\r\n  }\r\n  case UNLIKE_POST_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case UNLIKE_POST_SUCCESS: {\r\n      const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId);\r\n      const post = state.mainPosts[postIndex];\r\n      const Likers = post.Likers.filter(v => v.id !== action.data.userId);  // 좋아요 누른 사람들 목록에, 본인 제외  \r\n      const mainPosts = [...state.mainPosts];\r\n      mainPosts[postIndex] = { ...post, Likers };\r\n\r\n      return {\r\n        ...state,\r\n        mainPosts,\r\n      };\r\n  }\r\n  case UNLIKE_POST_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case RETWEET_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case RETWEET_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        mainPosts: [action.data, ...state.mainPosts],     // 기존 게시글의 제일 앞에 추가해준다. \r\n      };\r\n  }\r\n  case RETWEET_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case REMOVE_POST_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case REMOVE_POST_SUCCESS: {\r\n      //const index = draft.mainPosts.findIndex(v => v.id === action.data);\r\n      //draft.mainPosts.splice(index, 1);\r\n      //break;\r\n      return {\r\n        ...state,\r\n        mainPosts: state.mainPosts.filter(v => v.id !== action.data),\r\n      };\r\n  }\r\n  case REMOVE_POST_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  default: {\r\n      return {\r\n          ...state,\r\n      };\r\n  }\r\n} */","import produce from 'immer';\r\n\r\n/* const dummyUser = {\r\n    nickname: '제로초',\r\n    Post: [],\r\n    followings: [],\r\n    followers: [],\r\n    id: 1,\r\n}; */\r\n\r\n/* redux state */\r\nexport const initialState = {\r\n    isLoggingOut: false,          // 로그아웃 시도 중\r\n    isLogginIn: false,            // 로그인 시도 중 \r\n    logInErrorReason: '',         // 로그인 에러 사유\r\n\r\n    signedUp: false,              // 회원가입 성공\r\n    isSignedUp: false,            // 회원가입 시도 중\r\n    signUpErrorReason: '',        // 회원가입 에러 사유\r\n\r\n    me: null,                     // 내 정보\r\n    followingList: [],\r\n    followerList: [],              \r\n    userInfo: null,               // 남의 정보 \r\n\r\n    isEditingNickname: false,     // 닉네임 변경 중 \r\n    editNicknameErrorReason: '',  // 닉네임 변경 실패 사유 \r\n\r\n    hasMoreFollower: false,       // 더보기 버튼을 존재시킬지\r\n    hasMoreFollowing: false,      // 더보기 버튼을 존재시킬지\r\n};\r\n\r\n/* Action의 이름 */\r\nexport const SIGN_UP_REQUEST = 'SIGN_UP_REQUEST';\r\nexport const SIGN_UP_SUCCESS = 'SIGN_UP_SUCCESS';\r\nexport const SIGN_UP_FAILURE = 'SIGN_UP_FAILURE';\r\n\r\nexport const LOG_IN_REQUEST = 'LOG_IN_REQUEST';\r\nexport const LOG_IN_SUCCESS = 'LOG_IN_SUCCESS';\r\nexport const LOG_IN_FAILURE = 'LOG_IN_FAILURE';\r\n\r\nexport const LOG_OUT_REQUEST = 'LOG_OUT_REQUEST';\r\nexport const LOG_OUT_SUCCESS = 'LOG_OUT_SUCCESS';\r\nexport const LOG_OUT_FAILURE = 'LOG_OUT_FAILURE';\r\n\r\nexport const LOAD_USER_REQUEST = 'LOAD_USER_REQUEST';               // 사용자 불러오기 \r\nexport const LOAD_USER_SUCCESS = 'LOAD_USER_SUCCESS';\r\nexport const LOAD_USER_FAILURE = 'LOAD_USER_FAILURE';\r\n\r\nexport const LOAD_FOLLOWERS_REQUEST = 'LOAD_FOLLOWERS_REQUEST';\r\nexport const LOAD_FOLLOWERS_SUCCESS = 'LOAD_FOLLOWERS_SUCCESS';\r\nexport const LOAD_FOLLOWERS_FAILURE = 'LOAD_FOLLOWERS_FAILURE';\r\n\r\nexport const LOAD_FOLLOWINGS_REQUEST = 'LOAD_FOLLOWINGS_REQUEST';\r\nexport const LOAD_FOLLOWINGS_SUCCESS = 'LOAD_FOLLOWINGS_SUCCESS';\r\nexport const LOAD_FOLLOWINGS_FAILURE = 'LOAD_FOLLOWINGS_FAILURE';\r\n\r\nexport const FOLLOW_USER_REQUEST = 'FOLLOW_USER_REQUEST';           // 팔로우 액션\r\nexport const FOLLOW_USER_SUCCESS = 'FOLLOW_USER_SUCCESS';\r\nexport const FOLLOW_USER_FAILURE = 'FOLLOW_USER_FAILURE';\r\n\r\nexport const UNFOLLOW_USER_REQUEST = 'UNFOLLOW_USER_REQUEST';       // 언팔 액션\r\nexport const UNFOLLOW_USER_SUCCESS = 'UNFOLLOW_USER_SUCCESS';\r\nexport const UNFOLLOW_USER_FAILURE = 'UNFOLLOW_USER_FAILURE';\r\n\r\nexport const REMOVE_FOLLOWER_REQUEST = 'REMOVE_FOLLOWER_REQUEST';   // 팔로워 제거 \r\nexport const REMOVE_FOLLOWER_SUCCESS = 'REMOVE_FOLLOWER_SUCCESS';\r\nexport const REMOVE_FOLLOWER_FAILURE = 'REMOVE_FOLLOWER_FAILURE';\r\n\r\nexport const EDIT_NICKNAME_REQUEST = 'EDIT_NICKNAME_REQUEST';\r\nexport const EDIT_NICKNAME_SUCCESS = 'EDIT_NICKNAME_SUCCESS';\r\nexport const EDIT_NICKNAME_FAILURE = 'EDIT_NICKNAME_FAILURE';\r\n\r\nexport const ADD_POST_TO_ME = 'ADD_POST_TO_ME';                    \r\nexport const REMOVE_POST_OF_ME = 'REMOVE_POST_OF_ME';\r\n\r\n/* 실제 Action */\r\n// ...\r\n\r\n/* Reducer */\r\nconst reducer = (state = initialState, action) => {\r\n    /* immer */\r\n    return produce(state, (draft) => {      // immer에게 불변성을 맡기고, 우리는 draft만 자유롭게 변경해주면 된다.\r\n      switch (action.type) {\r\n        case LOG_IN_REQUEST: {\r\n            draft.isLoggingIn = true;\r\n            draft.isLoggedIn = false;\r\n            draft.logInErrorReason = '';\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isLoggingIn: true,\r\n                isLoggedIn: false,\r\n                logInErrorReason: '',\r\n            }; */\r\n        }\r\n        case LOG_IN_SUCCESS: {\r\n            draft.isLoggingIn = false;\r\n            draft.me = action.data;\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isLoggingIn: false,\r\n                me: action.data,\r\n                isLoading: false,\r\n            }; */\r\n        }\r\n        case LOG_IN_FAILURE: {\r\n            draft.isLoggingIn = false;\r\n            draft.logInErrorReason = action.error;\r\n            draft.me = null;\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isLoggingIn: false,\r\n                logInErrorReason: action.error,\r\n                me: null,\r\n            }; */\r\n        }\r\n        case LOG_OUT_REQUEST: {\r\n            draft.isLoggingOut = true;\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              isLoggingOut: true,\r\n            }; */\r\n        }\r\n        case LOG_OUT_SUCCESS: {\r\n            draft.isLoggingOut = false;\r\n            draft.me = null;\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              isLoggingOut: false,\r\n              me: null,\r\n            }; */\r\n        }\r\n        case SIGN_UP_REQUEST: {\r\n            draft.isSigningUp = true;\r\n            draft.isSignedUp = false;\r\n            draft.signUpErrorReason = '';\r\n            break;\r\n            /* return {\r\n                ...state,\r\n                isSigningUp: true,\r\n                isSignedUp: false,\r\n                signUpErrorReason: '',\r\n            }; */\r\n        }\r\n        case SIGN_UP_SUCCESS: {\r\n            alert('회원가입 성공!'); \r\n            draft.isSigningUp = false;\r\n            draft.isSignedUp = true;\r\n            break;\r\n            /* return {\r\n                isSigningUp: false,\r\n                isSignedUp: true,\r\n            }; */\r\n        }\r\n        case SIGN_UP_FAILURE: {\r\n            draft.isSigningUp = false;\r\n            draft.signUpErrorReason = action.error;\r\n            break;\r\n            /* return {\r\n                isSigningUp: false,\r\n                signUpErrorReason: action.error,\r\n            }; */\r\n        }\r\n        case LOAD_USER_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case LOAD_USER_SUCCESS: {\r\n            if (action.isThisMe) {\r\n              draft.me = action.data;\r\n              break;\r\n            } else {\r\n              draft.userInfo = action.data;\r\n              break;\r\n            }\r\n            /* if (action.isThisMe) {    // (sagas/user.js)의 function*loadUser() 에서 put으로 넘겨준것이 바로, action.me\r\n                return {\r\n                    ...state,\r\n                    me: action.data,\r\n                  };\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    userInfo: action.data,\r\n                  };\r\n            } */\r\n        }\r\n        case LOAD_USER_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case FOLLOW_USER_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case FOLLOW_USER_SUCCESS: {\r\n            draft.me.Followings.unshift({ id: action.data });\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              me: {\r\n                ...state.me,\r\n                Followings: [{ id: action.data }, ...state.me.Followings],\r\n              },\r\n            }; */\r\n        }\r\n        case FOLLOW_USER_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case UNFOLLOW_USER_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case UNFOLLOW_USER_SUCCESS: {\r\n            const userIndex1 = draft.me.Followings.findIndex(v => v.id === action.data);\r\n            draft.me.Followings.splice(userIndex1, 1);\r\n            const userIndex2 = draft.me.FollowingList.findIndex(v => v.id === action.data);\r\n            draft.followingList.splice(userIndex2, 1);\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              me: {\r\n                ...state.me,\r\n                Followings: state.me.Followings.filter(v => v.id !== action.data),\r\n              },\r\n              followingList: state.followingList.filter(v => v.id !== action.data),\r\n            }; */\r\n        }\r\n        case UNFOLLOW_USER_FAILURE: { \r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case ADD_POST_TO_ME: {\r\n            draft.me.Posts.unshift({ id: action.data });\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              me: {\r\n                ...state.me,\r\n                Posts: [{ id: action.data }, ...state.me.Posts],    // 작성한 게시글을, user정보안의 게시글 정보에 넣어주기 \r\n              },\r\n            }; */\r\n        }\r\n        case LOAD_FOLLOWERS_REQUEST: {\r\n            draft.followerList = !action.offset ? [] : draft.followerList;      // offset이 없는 경우, followerList = []\r\n                                                                                // 이렇게 해줘야 2번씩 로딩 안됨 \r\n            break;\r\n            /* return {\r\n              ...state,\r\n              //hasMoreFollower: action.offset ? state.hasMoreFollower : true,  // 처음화면 일때는, offset은 0 이므로, false취급을 받아서 true로 넘어간다.(=더보기 버튼을 보여준다.)                                                         \r\n                                                                                // (처음화면일때 offset이 0인것은, router.get('/:id/followers'... 에서 확인가능)      \r\n                                                                                // 여기 없어도 됨 (내 Q&A 답글)\r\n            }; */\r\n        }\r\n        case LOAD_FOLLOWERS_SUCCESS: {\r\n            action.data.forEach((f) => {\r\n              draft.followerList.push(f);\r\n            });\r\n            draft.hasMoreFollower = action.data.length === 3;\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              followerList: state.followerList.concat(action.data), // 기존것을 덮어쓰지 말고, 기존것에 추가 \r\n              hasMoreFollower: action.data.length === 3,            // 방금 로드된 팔로워가 1명 또는 2명이라면, 더보기 버튼을 보여줄 필요가 없다.\r\n                                                                    // 방금 로드된 팔로워가 3명일때만, 더보기 버튼을 보여줄 필요가 있다.\r\n            }; */\r\n        }\r\n        case LOAD_FOLLOWERS_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case LOAD_FOLLOWINGS_REQUEST: {\r\n            draft.followingList = !action.offset ? [] : draft.followingList;      // offset이 없는 경우, followerList = []\r\n                                                                                  // 이렇게 해줘야 2번씩 로딩 안됨 \r\n            break;\r\n            /* return {\r\n              ...state,\r\n              //hasMoreFollowing: action.offset ? state.hasMoreFollowing : true,  // 처음화면 일때는, offset은 0 이므로, false취급을 받아서 true로 넘어간다.(=더보기 버튼을 보여준다.)                                                         \r\n                                                                                  // (처음화면일때 offset이 0인것은, router.get('/:id/followings'... 에서 확인가능) \r\n                                                                                  // 여기 없어도 됨 (내 Q&A 답글)      \r\n            }; */\r\n        }\r\n        case LOAD_FOLLOWINGS_SUCCESS: {\r\n            action.data.forEach((f) => {\r\n              draft.followingList.push(f);\r\n            });\r\n            draft.hasMoreFollowing = action.data.length === 3;\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              followingList: state.followingList.concat(action.data),   // 기존것을 덮어쓰지 말고, 기존것에 추가\r\n              hasMoreFollowing: action.data.length === 3,               // 방금 로드된 팔로워가 1명 또는 2명이라면, 더보기 버튼을 보여줄 필요가 없다.\r\n                                                                        // 방금 로드된 팔로워가 3명일때만(=limit은 3이었음), 더보기 버튼을 보여줄 필요가 있다. \r\n            }; */\r\n        }\r\n        case LOAD_FOLLOWINGS_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case REMOVE_FOLLOWER_REQUEST: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case REMOVE_FOLLOWER_SUCCESS: {\r\n            const userIndex1 = draft.Followers.findIndex(v => v.id === action.data);\r\n            draft.me.Followers.splice(userIndex1, 1);\r\n            const userIndex2 = draft.followerList.findIndex(v => v.id === action.data);\r\n            draft.me.followerList.splice(userIndex2, 1);\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              me: {\r\n                ...state.me,\r\n                Followers: state.me.Followers.filter(v => v.id !== action.data),\r\n              },\r\n              followerList: state.followerList.filter(v => v.id !== action.data),\r\n            }; */\r\n        }\r\n        case REMOVE_FOLLOWER_FAILURE: {\r\n            break;\r\n            /* return {\r\n              ...state,\r\n            }; */\r\n        }\r\n        case EDIT_NICKNAME_REQUEST: {\r\n            draft.isEditingNickname = true;\r\n            draft.editNicknameErrorReason = '';\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              isEditingNickname: true,\r\n              editNicknameErrorReason: '',\r\n            }; */\r\n        }\r\n        case EDIT_NICKNAME_SUCCESS: {\r\n            draft.isEditingNickname = false;\r\n            draft.me.nickname = action.data;\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              isEditingNickname: false,\r\n              me: {\r\n                ...state.me,\r\n                nickname: action.data,\r\n              },\r\n            }; */\r\n        }\r\n        case EDIT_NICKNAME_FAILURE: {\r\n            draft.isEditingNickname = false;\r\n            draft.editNicknameErrorReason = action.error;\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              isEditingNickname: false,\r\n              editNicknameErrorReason: action.error,\r\n            }; */\r\n        }\r\n        case REMOVE_POST_OF_ME: {\r\n            const postIndex = draft.me.Posts.findIndex(v => v.id === action.data);\r\n            draft.me.Posts.splice(postIndex, 1);\r\n            break;\r\n            /* return {\r\n              ...state,\r\n              me: {\r\n                ...state.me,\r\n                Posts: state.me.Posts.filter(v => v.id != action.data),\r\n              }\r\n            }; */\r\n        }\r\n        default: {\r\n            break;\r\n            /* return {\r\n                ...state,\r\n            }; */\r\n        }\r\n      }\r\n    });\r\n};\r\nexport default reducer;\r\n\r\n\r\n/* switch (action.type) {\r\n  case LOG_IN_REQUEST: {\r\n      return {\r\n          ...state,\r\n          isLoggingIn: true,\r\n          isLoggedIn: false,\r\n          logInErrorReason: '',\r\n      };\r\n  }\r\n  case LOG_IN_SUCCESS: {\r\n      return {\r\n          ...state,\r\n          isLoggingIn: false,\r\n          me: action.data,\r\n          isLoading: false,\r\n      };\r\n  }\r\n  case LOG_IN_FAILURE: {\r\n      return {\r\n          ...state,\r\n          isLoggingIn: false,\r\n          logInErrorReason: action.error,\r\n          me: null,\r\n      };\r\n  }\r\n  case LOG_OUT_REQUEST: {\r\n      return {\r\n        ...state,\r\n        isLoggingOut: true,\r\n      };\r\n  }\r\n  case LOG_OUT_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        isLoggingOut: false,\r\n        me: null,\r\n      };\r\n  }\r\n  case SIGN_UP_REQUEST: {\r\n      return {\r\n          ...state,\r\n          isSigningUp: true,\r\n          isSignedUp: false,\r\n          signUpErrorReason: '',\r\n      };\r\n  }\r\n  case SIGN_UP_SUCCESS: {\r\n      alert('회원가입 성공!'); \r\n      return {\r\n          isSigningUp: false,\r\n          isSignedUp: true,\r\n      };\r\n  }\r\n  case SIGN_UP_FAILURE: {\r\n      return {\r\n          isSigningUp: false,\r\n          signUpErrorReason: action.error,\r\n      };\r\n  }\r\n  case LOAD_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case LOAD_USER_SUCCESS: {\r\n      if (action.isThisMe) {    // (sagas/user.js)의 function*loadUser() 에서 put으로 넘겨준것이 바로, action.me\r\n          return {\r\n              ...state,\r\n              me: action.data,\r\n            };\r\n      } else {\r\n          return {\r\n              ...state,\r\n              userInfo: action.data,\r\n            };\r\n      }\r\n      \r\n  }\r\n  case LOAD_USER_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case FOLLOW_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case FOLLOW_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        me: {\r\n          ...state.me,\r\n          Followings: [{ id: action.data }, ...state.me.Followings],\r\n        },\r\n      };\r\n  }\r\n  case FOLLOW_USER_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case UNFOLLOW_USER_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case UNFOLLOW_USER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        me: {\r\n          ...state.me,\r\n          Followings: state.me.Followings.filter(v => v.id !== action.data),\r\n        },\r\n        followingList: state.followingList.filter(v => v.id !== action.data),\r\n      };\r\n  }\r\n  case UNFOLLOW_USER_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case ADD_POST_TO_ME: {\r\n      return {\r\n        ...state,\r\n        me: {\r\n          ...state.me,\r\n          Posts: [{ id: action.data }, ...state.me.Posts],    // 작성한 게시글을, user정보안의 게시글 정보에 넣어주기 \r\n        },\r\n      };\r\n  }\r\n  case LOAD_FOLLOWERS_REQUEST: {\r\n      return {\r\n        ...state,\r\n        //hasMoreFollower: action.offset ? state.hasMoreFollower : true,  // 처음화면 일때는, offset은 0 이므로, false취급을 받아서 true로 넘어간다.(=더보기 버튼을 보여준다.)                                                         \r\n                                                                          // (처음화면일때 offset이 0인것은, router.get('/:id/followers'... 에서 확인가능)      \r\n                                                                          // 여기 없어도 됨 (내 Q&A 답글)\r\n      };\r\n  }\r\n  case LOAD_FOLLOWERS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        followerList: state.followerList.concat(action.data), // 기존것을 덮어쓰지 말고, 기존것에 추가 \r\n        hasMoreFollower: action.data.length === 3,            // 방금 로드된 팔로워가 1명 또는 2명이라면, 더보기 버튼을 보여줄 필요가 없다.\r\n                                                              // 방금 로드된 팔로워가 3명일때만, 더보기 버튼을 보여줄 필요가 있다.\r\n      };\r\n  }\r\n  case LOAD_FOLLOWERS_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case LOAD_FOLLOWINGS_REQUEST: {\r\n      return {\r\n        ...state,\r\n        //hasMoreFollowing: action.offset ? state.hasMoreFollowing : true,  // 처음화면 일때는, offset은 0 이므로, false취급을 받아서 true로 넘어간다.(=더보기 버튼을 보여준다.)                                                         \r\n                                                                            // (처음화면일때 offset이 0인것은, router.get('/:id/followings'... 에서 확인가능) \r\n                                                                            // 여기 없어도 됨 (내 Q&A 답글)      \r\n      };\r\n  }\r\n  case LOAD_FOLLOWINGS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        followingList: state.followingList.concat(action.data),   // 기존것을 덮어쓰지 말고, 기존것에 추가\r\n        hasMoreFollowing: action.data.length === 3,               // 방금 로드된 팔로워가 1명 또는 2명이라면, 더보기 버튼을 보여줄 필요가 없다.\r\n                                                                  // 방금 로드된 팔로워가 3명일때만(=limit은 3이었음), 더보기 버튼을 보여줄 필요가 있다. \r\n      };\r\n  }\r\n  case LOAD_FOLLOWINGS_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case REMOVE_FOLLOWER_REQUEST: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case REMOVE_FOLLOWER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        me: {\r\n          ...state.me,\r\n          Followers: state.me.Followers.filter(v => v.id !== action.data),\r\n        },\r\n        followerList: state.followerList.filter(v => v.id !== action.data),\r\n      };\r\n  }\r\n  case REMOVE_FOLLOWER_FAILURE: {\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n  case EDIT_NICKNAME_REQUEST: {\r\n    return {\r\n      ...state,\r\n      isEditingNickname: true,\r\n      editNicknameErrorReason: '',\r\n    };\r\n  }\r\n  case EDIT_NICKNAME_SUCCESS: {\r\n    return {\r\n      ...state,\r\n      isEditingNickname: false,\r\n      me: {\r\n        ...state.me,\r\n        nickname: action.data,\r\n      },\r\n    };\r\n  }\r\n  case EDIT_NICKNAME_FAILURE: {\r\n    return {\r\n      ...state,\r\n      isEditingNickname: false,\r\n      editNicknameErrorReason: action.error,\r\n    };\r\n  }\r\n  case REMOVE_POST_OF_ME: {\r\n    //const index = draft.me.Posts.findIndex(v => v.id === action.data);\r\n    //draft.me.Posts.splice(index, 1);\r\n    //break;\r\n    return {\r\n      ...state,\r\n      me: {\r\n        ...state.me,\r\n        Posts: state.me.Posts.filter(v => v.id != action.data),\r\n      }\r\n    };\r\n  }\r\n  default: {\r\n      return {\r\n          ...state,\r\n      };\r\n  }\r\n} */","import { all, fork } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport user from './user';\r\nimport post from './post';\r\n\r\n// axios.post에서 공통되는 URL을 이렇게 따로 뺼 수 있음 \r\naxios.defaults.baseURL = 'http://localhost:3067/api';       // axios.defaults 해주면 모든 axios에 적용이 된다. \r\n\r\nfunction* rootSaga() {\r\n    yield all([\r\n        fork(user),\r\n        fork(post),\r\n    ]);\r\n}\r\n\r\nexport default rootSaga;","import { all, takeLatest, delay, put, fork, call, throttle } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { \r\n    ADD_POST_FAILURE, \r\n    ADD_POST_REQUEST, \r\n    ADD_POST_SUCCESS,\r\n    ADD_COMMENT_FAILURE,\r\n    ADD_COMMENT_REQUEST,\r\n    ADD_COMMENT_SUCCESS, \r\n    LOAD_MAIN_POSTS_FAILURE, \r\n    LOAD_MAIN_POSTS_REQUEST,\r\n    LOAD_MAIN_POSTS_SUCCESS,\r\n    LOAD_HASHTAG_POSTS_FAILURE,\r\n    LOAD_HASHTAG_POSTS_REQUEST,\r\n    LOAD_HASHTAG_POSTS_SUCCESS,\r\n    LOAD_USER_POSTS_FAILURE,\r\n    LOAD_USER_POSTS_REQUEST,\r\n    LOAD_USER_POSTS_SUCCESS,\r\n    LOAD_COMMENTS_FAILURE,\r\n    LOAD_COMMENTS_REQUEST,\r\n    LOAD_COMMENTS_SUCCESS,\r\n    UPLOAD_IMAGES_FAILURE,\r\n    UPLOAD_IMAGES_REQUEST,\r\n    UPLOAD_IMAGES_SUCCESS,\r\n    LIKE_POST_FAILURE,\r\n    LIKE_POST_REQUEST,\r\n    LIKE_POST_SUCCESS,\r\n    UNLIKE_POST_FAILURE,\r\n    UNLIKE_POST_REQUEST,\r\n    UNLIKE_POST_SUCCESS,\r\n    RETWEET_FAILURE,\r\n    RETWEET_REQUEST,\r\n    RETWEET_SUCCESS,\r\n    REMOVE_POST_FAILURE,\r\n    REMOVE_POST_REQUEST,\r\n    REMOVE_POST_SUCCESS,\r\n    LOAD_POST_FAILURE, \r\n    LOAD_POST_SUCCESS,\r\n    LOAD_POST_REQUEST,\r\n} from '../reducers/post';\r\nimport { ADD_POST_TO_ME } from '../reducers/user';\r\n\r\n/**\r\n * 게시글 불러오기 3종세트\r\n */\r\nfunction loadMainPostsAPI(lastId=0, limit=10) {   // 게시글이 아예 하나도 안불러와져있는 경우, 마지막id가 없기때문에, 그때는 그냥 lastId = 0 으로 설정\r\n                                                  // 서버쪽에서는, lastId가 0이 오면, 게시글 id가 진짜 0인게 아니라, 게시글을 처음부터 불러와야겠다 라고 인식할 것\r\n    // 서버에 요청을 보내는 부분 \r\n    return axios.get(`/posts?lastId=${lastId}&limit=${limit}`);\r\n}\r\nfunction* loadMainPosts(action) {\r\n    try {\r\n      const result = yield call(loadMainPostsAPI, action.lastId);\r\n      yield put({\r\n        type: LOAD_MAIN_POSTS_SUCCESS,\r\n        data: result.data,\r\n      });\r\n    } catch (e) {\r\n        console.error(e);\r\n        yield put({\r\n            type: LOAD_MAIN_POSTS_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchLoadMainPosts() {\r\n    //yield takeLatest(LOAD_MAIN_POSTS_REQUEST, loadMainPosts);   // takeLatest써도, REQUEST가 서버로 계속 날라가는건 어쩔 수 없다. (물론, 마지막것만 갖다쓰긴하지만, 앞서 REQUEST계속 보낸 부분때문에 서버에 부하가 늘어난다.)\r\n                                                                  // REQUEST가 연속해서 날라가는 이유는, scroll감지는 0.1초만큼 짧은 시간마다 일어나기 때문이다.\r\n                                                                  // 해결: '쓰로틀'을 사용하자\r\n    yield throttle(1000, LOAD_MAIN_POSTS_REQUEST, loadMainPosts); // REQUEST가 호출되고, 1초가 지나기전까지는 같은 REQUEST가 호출될 수 없다.\r\n}\r\n\r\n/**\r\n * 게시글 업로드 3종세트\r\n */\r\nfunction addPostAPI(formData) {\r\n    // 서버에 요청을 보내는 부분 \r\n    return axios.post('/post', formData, {\r\n        withCredentials: true,  // 로그인 한 사람만 글을 쓸 수 있도록 쿠키를 보내줘야한다.(쿠키를 보내서 내가 지금 로그인했는지를 인증받아야 한다.)\r\n    });\r\n}\r\nfunction* addPost(action) {\r\n    try {\r\n        const result = yield call(addPostAPI, action.data);\r\n        yield put({   // post reducer의 데이터를 수정하는 부분 \r\n            type: ADD_POST_SUCCESS,\r\n            data: result.data,\r\n        });\r\n        yield put({   // user reducer의 데이터를 수정하는 부분 \r\n          type: ADD_POST_TO_ME,\r\n          data: result.data.id,\r\n        });\r\n    } catch (e) {\r\n        console.error(e);\r\n        yield put({\r\n            type: ADD_POST_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchAddPost() {\r\n    yield takeLatest(ADD_POST_REQUEST, addPost);\r\n}\r\n\r\n/**\r\n * 댓글 업로드 3종세트\r\n */\r\nfunction addCommentAPI(data) {\r\n    // 서버에 요청을 보내는 부분 \r\n    return axios.post(`/post/${data.postId}/comment`, { content: data.content }, {\r\n        withCredentials: true,\r\n    });\r\n}\r\nfunction* addComment(action) {  // 사용자가 댓글 등록하면, 제일 먼저 PostCard.js의 onSubmitComment에서 dispatch 일어남. 이때의 action이 매개변수 action으로 들어온것.\r\n    try {\r\n        const result = yield call(addCommentAPI, action.data);\r\n        yield put({\r\n            type: ADD_COMMENT_SUCCESS,\r\n            data: {\r\n                postId: action.data.postId,\r\n                comment: result.data,\r\n            }\r\n        });\r\n    } catch (e) {\r\n        console.error(e);\r\n        yield put({\r\n            type: ADD_COMMENT_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchAddComment() {\r\n    yield takeLatest(ADD_COMMENT_REQUEST, addComment);\r\n}\r\n\r\n/**\r\n * 특정 해시태그에 해당하는 게시글 가져오기 3종세트\r\n */\r\nfunction loadHashtagPostsAPI(tag, lastId=0, limit=10) {\r\n    return axios.get(`/hashtag/${encodeURIComponent(tag)}?lastId=${lastId}&limit=${limit}`);\r\n}\r\nfunction* loadHashtagPosts(action) {\r\n    try {\r\n      const result = yield call(loadHashtagPostsAPI, action.data, action.lastId);\r\n      yield put({\r\n        type: LOAD_HASHTAG_POSTS_SUCCESS,\r\n        data: result.data,\r\n      });\r\n    } catch (e) {\r\n        console.error(e);\r\n        yield put({\r\n            type: LOAD_HASHTAG_POSTS_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchLoadHashtagPosts() {\r\n    yield takeLatest(LOAD_HASHTAG_POSTS_REQUEST, loadHashtagPosts);\r\n}\r\n\r\n /**\r\n * 게시글의 모든 댓글들 가져오기 3종세트\r\n */\r\nfunction loadCommentsAPI(postId) {\r\n    return axios.get(`/post/${postId}/comments`);\r\n}\r\nfunction* loadComments(action) {\r\n    try {\r\n      const result = yield call(loadCommentsAPI, action.data);\r\n      yield put({\r\n        type: LOAD_COMMENTS_SUCCESS,\r\n        data: {\r\n            postId: action.data,\r\n            comments: result.data,\r\n        }\r\n      });\r\n    } catch (e) {\r\n        console.error('왜 댓글안돼=', e);\r\n        yield put({\r\n            type: LOAD_COMMENTS_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchLoadComments() {\r\n    yield takeLatest(LOAD_COMMENTS_REQUEST, loadComments);\r\n}\r\n\r\n/**\r\n * 특정 id를 가진 user의 게시글들 가져오기 3종세트\r\n */\r\nfunction loadUserPostsAPI(id) {\r\n    return axios.get(`/user/${id || 0}/posts`);\r\n}\r\nfunction* loadUserPosts(action) {\r\n    try {\r\n      const result = yield call(loadUserPostsAPI, action.data);\r\n      yield put({\r\n        type: LOAD_USER_POSTS_SUCCESS,\r\n        data: result.data,\r\n      });\r\n    } catch (e) {\r\n        console.error(e);\r\n        yield put({\r\n            type: LOAD_USER_POSTS_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchLoadUserPosts() {\r\n    yield takeLatest(LOAD_USER_POSTS_REQUEST, loadUserPosts);\r\n}\r\n\r\n/**\r\n * 이미지 업로드 3종세트\r\n */\r\nfunction uploadImagesAPI(formData) {\r\n    return axios.post('/post/images', formData, {   // 게시글을 아직 올리지 않은 상태에서 postId알 수 있는 방법이 없음 \r\n      withCredentials: true,\r\n    });\r\n}\r\nfunction* uploadImages(action) {\r\n    try {\r\n      const result = yield call(uploadImagesAPI, action.data);\r\n      yield put({\r\n        type: UPLOAD_IMAGES_SUCCESS,\r\n        data: result.data,\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n      yield put({\r\n        type: UPLOAD_IMAGES_FAILURE,\r\n        error: e,\r\n      });\r\n    }\r\n}\r\nfunction* watchUploadImages() {\r\n    yield takeLatest(UPLOAD_IMAGES_REQUEST, uploadImages);\r\n}\r\n\r\n/**\r\n * 좋아요 누르기 3종세트\r\n */\r\nfunction likePostAPI(postId) {\r\n    return axios.post(`/post/${postId}/like`, {}, {     // 두번째 인자인 data:{}를 명시는 해놓아야됨 \r\n      withCredentials: true,\r\n    });\r\n}\r\nfunction* likePost(action) {\r\n    try {\r\n      const result = yield call(likePostAPI, action.data);\r\n      yield put({\r\n        type: LIKE_POST_SUCCESS,\r\n        data: {\r\n          postId: action.data,          // 게시글 id\r\n          userId: result.data.userId,   // 좋아요 누른 사람의 id\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n      yield put({\r\n        type: LIKE_POST_FAILURE,\r\n        error: e,\r\n      });\r\n    }\r\n}\r\nfunction* watchLikePost() {\r\n    yield takeLatest(LIKE_POST_REQUEST, likePost);\r\n}\r\n  \r\n/**\r\n * 좋아요 누르기 취소 3종세트\r\n */\r\nfunction unlikePostAPI(postId) {\r\n    return axios.delete(`/post/${postId}/like`, {   // delete는 두번째 인자인 data:{} 부분 없음. \r\n      withCredentials: true,\r\n    });\r\n}\r\nfunction* unlikePost(action) {\r\n    try {\r\n      const result = yield call(unlikePostAPI, action.data);\r\n      yield put({\r\n        type: UNLIKE_POST_SUCCESS,\r\n        data: {\r\n          postId: action.data,          // 게시글 id\r\n          userId: result.data.userId,   // 좋아요 취소한 사람의 id\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n      yield put({\r\n        type: UNLIKE_POST_FAILURE,\r\n        error: e,\r\n      });\r\n    }\r\n}\r\nfunction* watchUnlikePost() {\r\n    yield takeLatest(UNLIKE_POST_REQUEST, unlikePost);\r\n}\r\n\r\n/**\r\n * 리트윗 하기 3종세트\r\n */\r\nfunction retweetAPI(postId) {\r\n  return axios.post(`/post/${postId}/retweet`, {}, {    // post 요청 시에는 data가 없더라도 빈 객체 {} 라도 넣어줘야 한다. \r\n    withCredentials: true,\r\n  });\r\n}\r\nfunction* retweet(action) {\r\n  try {\r\n    const result = yield call(retweetAPI, action.data);\r\n    yield put({\r\n      type: RETWEET_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    yield put({\r\n      type: RETWEET_FAILURE,\r\n      error: e,\r\n    });\r\n    console.dir(e);\r\n    alert(e.response && e.response.data);   // alert로 에러 정보 알려주기 \r\n  }\r\n}\r\nfunction* watchRetweet() {\r\n  yield takeLatest(RETWEET_REQUEST, retweet);\r\n}\r\n\r\n/**\r\n * 게시글 삭제 3종세트\r\n */\r\nfunction removePostAPI(postId) {\r\n  return axios.delete(`/post/${postId}`, {\r\n    withCredentials: true,\r\n  });\r\n}\r\nfunction* removePost(action) {\r\n  try {\r\n    const result = yield call(removePostAPI, action.data);\r\n    yield put({     // post reducer\r\n      type: REMOVE_POST_SUCCESS,\r\n      data: result.data,\r\n    });\r\n    yield put({     // user reducer (내 게시글 삭제하면, 내 짹짹 수도 하나 줄어야 한다.)\r\n      type: REMOVE_POST_OF_ME,\r\n      data: result.data,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    yield put({\r\n      type: REMOVE_POST_FAILURE,\r\n      error: e,\r\n    });\r\n  }\r\n}\r\nfunction* watchRemovePost() {\r\n  yield takeLatest(REMOVE_POST_REQUEST, removePost);\r\n}\r\n\r\n/**\r\n * 게시글 한개 불러오기 3종세트\r\n */\r\nfunction loadPostAPI(postId) {\r\n  return axios.get(`/post/${postId}`);\r\n}\r\nfunction* loadPost(action) {\r\n  try {\r\n    const result = yield call(loadPostAPI, action.data);\r\n    yield put({\r\n      type: LOAD_POST_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    yield put({\r\n      type: LOAD_POST_FAILURE,\r\n      error: e,\r\n    });\r\n  }\r\n}\r\nfunction* watchLoadPost() {\r\n  yield takeLatest(LOAD_POST_REQUEST, loadPost);\r\n}\r\n\r\n/* ㅡㅡㅡㅡㅡ main ㅡㅡㅡㅡㅡ*/\r\nfunction* postSaga() {\r\n    yield all([\r\n        fork(watchLoadMainPosts),\r\n        fork(watchAddPost),\r\n        fork(watchAddComment),\r\n        fork(watchLoadComments),\r\n        fork(watchLoadHashtagPosts),\r\n        fork(watchLoadUserPosts),\r\n        fork(watchUploadImages),\r\n        fork(watchLikePost),\r\n        fork(watchUnlikePost),\r\n        fork(watchRetweet),\r\n        fork(watchRemovePost),\r\n        fork(watchLoadPost),\r\n    ]);\r\n}\r\nexport default postSaga;","import { all, fork, takeEvery, call, put, delay } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { \r\n    LOAD_USER_FAILURE,\r\n    LOAD_USER_REQUEST,\r\n    LOAD_USER_SUCCESS,\r\n    LOG_IN_FAILURE,\r\n    LOG_IN_REQUEST,\r\n    LOG_IN_SUCCESS,\r\n    LOG_OUT_FAILURE,\r\n    LOG_OUT_REQUEST,\r\n    LOG_OUT_SUCCESS,\r\n    SIGN_UP_FAILURE,\r\n    SIGN_UP_REQUEST,\r\n    SIGN_UP_SUCCESS,\r\n    FOLLOW_USER_FAILURE,\r\n    FOLLOW_USER_REQUEST,\r\n    FOLLOW_USER_SUCCESS,\r\n    UNFOLLOW_USER_FAILURE,\r\n    UNFOLLOW_USER_REQUEST,\r\n    UNFOLLOW_USER_SUCCESS,\r\n    LOAD_FOLLOWERS_FAILURE,\r\n    LOAD_FOLLOWERS_REQUEST,\r\n    LOAD_FOLLOWERS_SUCCESS,\r\n    LOAD_FOLLOWINGS_FAILURE, \r\n    LOAD_FOLLOWINGS_REQUEST,\r\n    LOAD_FOLLOWINGS_SUCCESS,\r\n    REMOVE_FOLLOWER_FAILURE,\r\n    REMOVE_FOLLOWER_REQUEST,\r\n    REMOVE_FOLLOWER_SUCCESS,\r\n    EDIT_NICKNAME_FAILURE, \r\n    EDIT_NICKNAME_REQUEST,\r\n    EDIT_NICKNAME_SUCCESS\r\n} from '../reducers/user';\r\n\r\n/**\r\n * 로그인 3종세트\r\n */\r\nfunction loginAPI(loginData) {   // 서버에 요청을 보내는 부분 \r\n    return axios.post('/user/login', loginData, {\r\n        withCredentials: true,\r\n    }); \r\n}\r\nfunction* login(action) {\r\n    try {\r\n        const result = yield call(loginAPI, action.data); // 서버에 요청\r\n        yield put({     // put은 dispatch와 동일 \r\n            type: LOG_IN_SUCCESS,\r\n            data: result.data, // axios응답(result)은 응답객체.data안에 들어있다. \r\n        });\r\n    } catch (e) {\r\n        console.error(e);\r\n        yield put({\r\n            type: LOG_IN_FAILURE,\r\n        });\r\n    }\r\n}\r\nfunction* watchLogin() {\r\n    yield takeEvery(LOG_IN_REQUEST, login);\r\n}\r\n\r\n/**\r\n * 회원가입 3종세트\r\n */\r\nfunction signUpAPI(signUpData) {\r\n    // 서버에 요청을 보내는 부분 \r\n    return axios.post('/user', signUpData); // 백에서 signUpData를 req.body로 받는다.\r\n}\r\nfunction* signUp(action) {\r\n    try {\r\n        yield call(signUpAPI, action.data);\r\n        yield put({\r\n            type: SIGN_UP_SUCCESS,\r\n        });\r\n    } catch (e) {\r\n        console.error(e);\r\n        yield put({\r\n            type: SIGN_UP_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchSignUp() {\r\n    yield takeEvery(SIGN_UP_REQUEST, signUp);\r\n}\r\n\r\n/**\r\n * 로그아웃 3종세트\r\n */\r\nfunction logOutAPI() {\r\n    // 서버에 요청을 보내는 부분\r\n    return axios.post('/user/logout', {}, {\r\n      withCredentials: true,\r\n    });\r\n}\r\nfunction* logOut() {\r\n    try {\r\n      yield call(logOutAPI);\r\n      yield put({ // put은 dispatch 동일\r\n        type: LOG_OUT_SUCCESS,\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n      yield put({\r\n        type: LOG_OUT_FAILURE,\r\n        error: e,\r\n      });\r\n    }\r\n}\r\nfunction* watchLogOut() {\r\n    yield takeEvery(LOG_OUT_REQUEST, logOut);\r\n}\r\n  \r\n/**\r\n * 해당 유저 정보 가져오기 3종세트\r\n */\r\nfunction loadUserAPI(userId) {\r\n    // 서버에 요청을 보내는 부분\r\n    return axios.get(userId ? `/user/${userId}` : '/user/', {   // userId가 있으면 남의정보 가져오고\r\n                                                                // 없으면 내정보 가져오기    \r\n      withCredentials: true,    // 쿠키로 정보가져오기 \r\n    });\r\n}\r\nfunction* loadUser(action) {\r\n    try {\r\n      const result = yield call(loadUserAPI, action.data);\r\n      yield put({ // put은 dispatch 동일\r\n        type: LOAD_USER_SUCCESS,\r\n        data: result.data,\r\n        isThisMe: !action.data,   // 내정보 가져올때는 LOAD_USER_REQUEST에 id값을 안 넣는다.\r\n                            // 내정보 가져올때(매개변수 없을때) \r\n                            // -> action.data === false (=값이 없으므로 false)\r\n                            // -> !action.data === true\r\n                            // -> action.isThisMe===true로 LOAD_USER_SUCCESS에 넘어간다.\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n      yield put({\r\n        type: LOAD_USER_FAILURE,\r\n        error: e,\r\n      });\r\n    }\r\n}\r\nfunction* watchLoadUser() {\r\n    yield takeEvery(LOAD_USER_REQUEST, loadUser);\r\n}\r\n\r\n/**\r\n * 팔로우 하기 3종세트\r\n */\r\nfunction followAPI(userId) {\r\n    // 서버에 요청을 보내는 부분\r\n    return axios.post(`/user/${userId}/follow`, {}, {\r\n      withCredentials: true,\r\n    });\r\n}\r\nfunction* follow(action) {\r\n    try {\r\n      const result = yield call(followAPI, action.data);\r\n      yield put({ // put은 dispatch 동일\r\n        type: FOLLOW_USER_SUCCESS,\r\n        data: result.data,\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n      yield put({\r\n        type: FOLLOW_USER_FAILURE,\r\n        error: e,\r\n      });\r\n    }\r\n}\r\nfunction* watchFollow() {\r\n    yield takeEvery(FOLLOW_USER_REQUEST, follow);\r\n}\r\n  \r\n/**\r\n * 언팔로우 하기 3종세트\r\n */\r\nfunction unfollowAPI(userId) {\r\n    // 서버에 요청을 보내는 부분\r\n    return axios.delete(`/user/${userId}/follow`, {     // delete는 data:{} 필요 X\r\n      withCredentials: true,\r\n    });\r\n}\r\nfunction* unfollow(action) {\r\n    try {\r\n      const result = yield call(unfollowAPI, action.data);\r\n      yield put({ // put은 dispatch 동일\r\n        type: UNFOLLOW_USER_SUCCESS,\r\n        data: result.data,\r\n      });\r\n    } catch (e) { \r\n      console.error(e);\r\n      yield put({\r\n        type: UNFOLLOW_USER_FAILURE,\r\n        error: e,\r\n      });\r\n    }\r\n}\r\nfunction* watchUnfollow() {\r\n    yield takeEvery(UNFOLLOW_USER_REQUEST, unfollow);\r\n}\r\n\r\n/**\r\n * 내 팔로워들 목록 가져오기 3종세트\r\n */\r\nfunction loadFollowersAPI(userId, offset = 0, limit = 3) {  // 기본값 설정 \r\n  // 서버에 요청을 보내는 부분\r\n  return axios.get(`/user/${userId || 0}/followers?offset=${offset}&limit=${limit}`, {\r\n    withCredentials: true,\r\n  });\r\n}\r\nfunction* loadFollowers(action) {\r\n  try {\r\n    const result = yield call(loadFollowersAPI, action.data, action.offset);  // 처음화면 일때는 action.offset이 존재 X\r\n                                                                              // 더보기 버튼을 눌렀을때는 action.offset이 존재한다.\r\n    yield put({ // put은 dispatch 동일\r\n      type: LOAD_FOLLOWERS_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (e) { \r\n    console.error(e);\r\n    yield put({\r\n      type: LOAD_FOLLOWERS_FAILURE,\r\n      error: e,\r\n    });\r\n  }\r\n}\r\nfunction* watchLoadFollowers() {\r\n  yield takeEvery(LOAD_FOLLOWERS_REQUEST, loadFollowers);\r\n}\r\n\r\n/**\r\n * 내가 팔로잉 하고있는 사람들 목록 가져오기 3종세트\r\n */\r\nfunction loadFollowingsAPI(userId, offset = 0, limit = 3) {\r\n  // 서버에 요청을 보내는 부분\r\n  return axios.get(`/user/${userId || 0}/followings?offset=${offset}&limit=${limit}`, {\r\n    withCredentials: true,\r\n  });\r\n}\r\nfunction* loadFollowings(action) {\r\n  try {\r\n    const result = yield call(loadFollowingsAPI, action.data, action.offset);\r\n    yield put({ // put은 dispatch 동일\r\n      type: LOAD_FOLLOWINGS_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (e) {\r\n    console.error(e);\r\n    yield put({\r\n      type: LOAD_FOLLOWINGS_FAILURE,\r\n      error: e,\r\n    });\r\n  }\r\n}\r\nfunction* watchLoadFollowings() {\r\n  yield takeEvery(LOAD_FOLLOWINGS_REQUEST, loadFollowings);\r\n}\r\n\r\n/**\r\n * 팔로워 한명 삭제하기 3종세트\r\n */\r\nfunction removeFollowerAPI(userId) {\r\n  // 서버에 요청을 보내는 부분\r\n  return axios.delete(`/user/${userId}/follower`, {\r\n    withCredentials: true,\r\n  });\r\n}\r\nfunction* removeFollower(action) {\r\n  try {\r\n    const result = yield call(removeFollowerAPI, action.data);\r\n    yield put({ // put은 dispatch 동일\r\n      type: REMOVE_FOLLOWER_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (e) { \r\n    console.error(e);\r\n    yield put({\r\n      type: REMOVE_FOLLOWER_FAILURE,\r\n      error: e,\r\n    });\r\n  }\r\n}\r\nfunction* watchRemoveFollower() {\r\n  yield takeEvery(REMOVE_FOLLOWER_REQUEST, removeFollower);\r\n}\r\n\r\n/**\r\n * 닉네임 수정 3종세트\r\n */\r\nfunction editNicknameAPI(nickname) {\r\n  // 서버에 요청을 보내는 부분\r\n  return axios.patch('/user/nickname', { nickname }, {  // 부분 수정: patch, 전체 수정: put\r\n    withCredentials: true,\r\n  });\r\n}\r\nfunction* editNickname(action) {\r\n  try {\r\n    const result = yield call(editNicknameAPI, action.data);\r\n    yield put({ // put은 dispatch 동일\r\n      type: EDIT_NICKNAME_SUCCESS,\r\n      data: result.data,\r\n    });\r\n  } catch (e) { \r\n    console.error(e);\r\n    yield put({\r\n      type: EDIT_NICKNAME_FAILURE,\r\n      error: e,\r\n    });\r\n  }\r\n}\r\nfunction* watchEditNickname() {\r\n  yield takeEvery(EDIT_NICKNAME_REQUEST, editNickname);\r\n}\r\n\r\n/* ㅡㅡㅡㅡㅡ main ㅡㅡㅡㅡㅡ*/\r\nfunction* userSaga() {\r\n    yield all([\r\n        fork(watchLogin),\r\n        fork(watchLogOut),\r\n        fork(watchLoadUser),\r\n        fork(watchSignUp),\r\n        fork(watchFollow),\r\n        fork(watchUnfollow),\r\n        fork(watchLoadFollowers),\r\n        fork(watchLoadFollowings),\r\n        fork(watchRemoveFollower),\r\n        fork(watchEditNickname),\r\n    ]);\r\n}\r\nexport default userSaga;","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"core-js/library/fn/array/is-array\");","module.exports = require(\"core-js/library/fn/get-iterator\");","module.exports = require(\"core-js/library/fn/json/stringify\");","module.exports = require(\"core-js/library/fn/object/assign\");","module.exports = require(\"core-js/library/fn/object/create\");","module.exports = require(\"core-js/library/fn/object/define-property\");","module.exports = require(\"core-js/library/fn/object/get-prototype-of\");","module.exports = require(\"core-js/library/fn/object/set-prototype-of\");","module.exports = require(\"core-js/library/fn/promise\");","module.exports = require(\"core-js/library/fn/symbol\");","module.exports = require(\"core-js/library/fn/symbol/iterator\");","module.exports = require(\"immer\");","module.exports = require(\"next-redux-saga\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next-server/dist/lib/utils\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"prop-types\");","module.exports = require(\"prop-types-exact\");","module.exports = require(\"react\");","module.exports = require(\"react-helmet\");","module.exports = require(\"react-redux\");","module.exports = require(\"redux\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"regenerator-runtime\");","module.exports = require(\"url\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAEA;AAAA;AAFA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;;;;;;;;;AASA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAHA;AAOA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAOA;AAAA;AAAA;AAGA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AADA;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;ACrEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAHA;AACA;AAGA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AADA;AACA;AACA;AAEA;AAAA;AACA;AACA;AADA;AAGA;AAEA;AAEA;AACA;AAAA;AAAA;AAKA;AAAA;AAAA;AAKA;AAAA;AAAA;AAZA;AAoBA;AACA;AAFA;AAIA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;AC9CA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzBA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpBA;;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9MA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAFA;AAIA;AAAA;AADA;AAGA;AAAA;AADA;AAGA;AAAA;AADA;AAGA;AAAA;AADA;AAGA;AAAA;AADA;AAGA;AACA;AAAA;AADA;AAGA;AAAA;AADA;AAGA;AAAA;AADA;AAGA;AAAA;AADA;AAzBA;AAoCA;AACA;AACA;AACA;AAAA;AACA;AACA;AAHA;AAMA;;;;;;;;;;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AAtBA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAsBA;AACA;AAvBA;AAAA;AAyBA;AAAA;AACA;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AA4BA;AACA;AACA;AADA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AC5HA;AACA;AACA;AACA;AAEA;AAGA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAUA;AACA;AAZA;AAYA;AAAA;AAZA;AAAA;AACA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;;;;;;;;;AC7GA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAEA;AAAA;AACA;AAfA;AAkBA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;AAOA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAWA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;;;;;;;AASA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AACA;;;;;;;;;AASA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;;;;;;;AASA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AAvQA;AAyQA;AACA;AACA;AAAA;AAIA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/VA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;;;;;AAQA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AACA;AAnBA;AAqBA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAWA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;AAOA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;;;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAC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","sourceRoot":""}